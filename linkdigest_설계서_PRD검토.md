# LinkDigest 설계서 vs PRD 검토 결과

**검토일**: 2026-02-14  
**대상**: linkdigest_설계서.md가 linkdigest_PRD.md 요구사항을 구현하기에 충분한지 검토

---

## 1. 종합 결론

| 구분 | 판단 | 비고 |
|------|------|------|
| **기능 요구사항 (FR)** | 대체로 충분 | UI 상세·에러 코드·일부 처리 조건은 보강 권장 |
| **비기능 요구사항 (NFR)** | 일부 부족 | 수치 목표, 접근성, 확장성 수치 미명시 |
| **시스템/인터페이스/데이터** | 일부 부족 | 하드웨어·브라우저·데이터 보관 기간 등 |
| **테스트/배포/운영** | 부족 | 테스트 전략, 배포 자동화, 운영(백업·모니터링) |
| **보안/성능** | 대체로 충분 | HTTPS·민감정보 로그·성능 수치만 보강 시 완전 |

**요약**: 설계서만으로도 **개발·배포는 가능**하나, PRD의 일부 요구사항(테스트, 운영, UI 상세, 수치 목표)이 빠져 있으므로 **보강 시 추적·검증이 수월**해집니다.

---

## 2. 잘 반영된 부분 (설계서가 PRD를 충족)

- **아키텍처**: 전체 구성도, Backend/Frontend 레이어, 데이터 흐름(북마크 생성·검색)
- **기술 스택**: FastAPI, React, PostgreSQL, Ollama, JWT, bcrypt 등 PRD와 일치
- **DB 설계**: users, bookmarks, logs, sessions 테이블 및 ERD, PRD 데이터 요구사항(DR-001~004) 반영
- **API 구조**: `/api/auth`, `/api/bookmarks`, `/api/logs` 및 CRUD·페이지네이션·태그 필터
- **보안**: JWT 30분 만료, bcrypt, CORS, SQL Injection/XSS/CSRF 대응 방안
- **배포**: Backend/Frontend Docker 독립 구성, Nginx 프록시, 환경 변수(.env)
- **주요 기능**: 스크래핑(제목 우선순위), AI 요약·번역, 키워드 AND/OR·부분 일치

---

## 3. 부족하거나 보강이 필요한 부분

### 3.1 기능 요구사항 (FR) 상세

| PRD 항목 | 내용 | 설계서 현황 | 권장 보강 |
|----------|------|-------------|-----------|
| **FR-005** | 북마크 생성 에러: 400(잘못된 URL), 409(중복 URL), 500(스크래핑 실패) | API 설계에 HTTP 에러 코드 명시 없음 | §6 API 설계에 에러 응답(400/401/403/409/500) 정리 |
| **FR-011, FR-012** | 수정/삭제 시 403 (권한 없음) | 동일 | 위와 함께 §6에 반영 |
| **FR-014** | 조회수 중복 증가 방지 (같은 세션/사용자) | 설계서에 미언급 | §5.2 또는 §6 북마크 상세 조회에 “중복 증가 방지 정책(세션/사용자 기준)” 추가 |
| **FR-015** | 선택된 키워드 **파란색 배경** 표시 | §11.3 검색 기능에 UI 상세 없음 | §11.3 또는 Frontend 아키텍처에 “선택 태그 시각화(파란색 배경)” 명시 |
| **FR-019** | 필터 개별 제거 시 **각 키워드에 X 버튼** | 미언급 | 동일 구간에 “필터 태그별 X 버튼” 명시 |
| **FR-020** | **“전체 제거” 버튼** | 미언급 | “전체 제거 버튼” 명시 |
| **FR-021** | **“북마크 목록(N개)”** 형식으로 총 개수 표시 | 미언급 | “목록 제목 옆 총 개수 표시 형식” 명시 |

### 3.2 비기능 요구사항 (NFR) 수치

| PRD 항목 | 요구 수치 | 설계서 현황 | 권장 보강 |
|----------|-----------|-------------|-----------|
| **NFR-001** | API 1초 이내(95%), 검색 1초 이내, 페이지 로딩 3초 이내 | §8 성능 최적화에 수치 없음 | §8에 “응답 시간 목표(95% 1초, 검색 1초, 초기 로딩 3초)” 추가 |
| **NFR-002** | 동시 사용자 100명, 50 TPS | 미언급 | §8에 “목표: 동시 100명, 50 TPS” 명시 |
| **NFR-003** | 요약 30초 이내, 워커 최대 3개 | ThreadPoolExecutor만 언급, 30초·3개 미명시 | §8.1 또는 §11.2에 “완료 목표 30초, 워커 3개” 명시 |
| **NFR-011** | 반응형, 로딩 상태, 에러 메시지, 마크다운 다크 테마 등 | 일부만 §12 향후 개선·코드 블록에서 간접 언급 | §4.2 또는 별도 “UI 요구사항”에 반응형·로딩·에러·가독성 요구 정리 |
| **NFR-012** | 접근성(키보드, 스크린 리더, 색상 대비) | 미언급 | “권장: 키보드 네비게이션, 스크린 리더 호환, 색상 대비” 수준으로 §11 또는 §4.2에 추가 |

### 3.3 시스템·인터페이스 요구사항

| PRD 항목 | 내용 | 설계서 현황 | 권장 보강 |
|----------|------|-------------|-----------|
| **SR-001** | 서버별 CPU/메모리/디스크 (Backend, Frontend, DB) | §10.1에 런타임만 있고 하드웨어 없음 | §10.1에 “권장 스펙: Backend 4코어/8GB, Frontend 2코어/4GB, DB 4코어/8GB/50GB” 등 요약 추가 |
| **IR-001** | 브라우저: Chrome/Firefox/Safari/Edge 최신 2버전 | 미언급 | §10 또는 “환경 요구사항”에 지원 브라우저 명시 |
| **IR-002** | 반응형 브레이크포인트 320/768/1024px | 미언급 | §4.2 또는 UI 요구사항에 “320px 이상, 768px, 1024px” 명시 |
| **IR-003** | API 버전 /api/v1 | 설계서는 /api 기준 | “현재 /api, 향후 /api/v1 전환 가능” 정도로 §6에 각주 추가 |

### 3.4 데이터·보안

| PRD 항목 | 내용 | 설계서 현황 | 권장 보강 |
|----------|------|-------------|-----------|
| **DR-005, DR-006** | 참조 무결성, CASCADE 삭제, Pydantic 검증 | ERD·테이블 구조에 CASCADE 등 상세 없음 | §5.2에 “user 삭제 시 bookmark/session CASCADE”, “입력 검증: Pydantic” 명시 |
| **DR-007** | 로그 최소 30일 보관, 세션 정리 | 미언급 | §5.2 또는 §9에 “로그 보관 30일 이상, 만료 세션 정리” 정책 추가 |
| **SEC-007** | 비밀번호·토큰 로그 미기록 | §7.2 “민감 정보 로그 미기록” 없음 | §7.2에 “비밀번호·토큰 로그에 기록 금지” 추가 |
| **SEC-008** | 프로덕션 HTTPS 필수 | §10.3 Nginx에 SSL 예시는 있음 | §7 또는 §10에 “프로덕션은 HTTPS 필수” 문구 명시 |

### 3.5 테스트 요구사항 (PRD §14)

| PRD 항목 | 내용 | 설계서 현황 | 권장 보강 |
|----------|------|-------------|-----------|
| **TEST-001** | Backend 단위 테스트, 커버리지 70% | 설계서에 테스트 장 없음 | “테스트 전략” 섹션 추가: 단위(CRUD·비즈니스 로직), 목표 커버리지 70% |
| **TEST-002** | Frontend 단위 테스트, 커버리지 60% | 동일 | Frontend 단위(컴포넌트·유틸), 목표 60% |
| **TEST-003** | API 통합·인증·에러 처리 테스트 | 동일 | API 통합·인증 플로우·에러 케이스 테스트 |
| **TEST-004** | 시스템·성능·보안 테스트 | 동일 | E2E·성능·보안 테스트 요구사항 |

### 3.6 배포·운영 요구사항 (PRD §15, §16)

| PRD 항목 | 내용 | 설계서 현황 | 권장 보강 |
|----------|------|-------------|-----------|
| **DEPLOY-003** | 배포 스크립트, DB 마이그레이션, 롤백 프로세스 | §10에 스크립트·마이그레이션·롤백 없음 | §10에 “배포 자동화(스크립트), DB 마이그레이션, 롤백 절차” 개요 추가 |
| **OPS-001** | 파일 로깅(backend/logs/app.log), DB 로깅, 로그 레벨 | §9에 경로·레벨 있음 | 유지, 필요 시 “모니터링 도구 연동” 한 줄 추가 |
| **OPS-002** | 응답 시간·쿼리 성능·에러율 모니터링 | 미언급 | §9 또는 §10에 “모니터링: 응답 시간, 쿼리 성능, 에러율” 요구사항 추가 |
| **OPS-003** | DB 정기 백업, 복구 프로세스 | 미언급 | §10 “배포 및 운영”에 “백업·복구 정책” 소절 추가 |
| **OPS-004** | 무중단 업데이트, 다운타임 최소화 | 미언급 | “가능 시 무중단 배포, 다운타임 최소화” 수준으로 추가 |

### 3.7 기타

| PRD 항목 | 내용 | 설계서 현황 | 권장 보강 |
|----------|------|-------------|-----------|
| **§12 제약사항** | CON-001~004 (기술 스택, 외부 의존성, 개발 기간, 예산) | 설계서에 제약사항 장 없음 | “제약사항” 한 절 추가하거나 §1 개요에 2~3문단으로 정리 |
| **요구사항 추적성** | PRD ID(FR-xxx, US-xxx) ↔ 설계 항목 매핑 | 없음 | 부록 또는 별표로 “PRD 요구사항–설계서 섹션 매핑표” 있으면 유지보수·검증에 유리 |

---

## 4. 보강 시 권장 작업 순서

1. **즉시 보강 (구현과 직결)**  
   - §6 API: 에러 응답(400/401/403/409/500) 정리  
   - FR-014: 조회수 중복 증가 방지 정책  
   - §11.3(또는 UI): 선택 태그 파란색, X 버튼, “전체 제거”, “북마크 목록(N개)”

2. **단기 보강 (검증·운영)**  
   - §8: 성능 수치 목표(1초, 30초, 100명, 50 TPS, 워커 3개)  
   - §9~§10: 운영(백업·복구·모니터링), 배포(스크립트·마이그레이션·롤백)  
   - “테스트 전략” 섹션: TEST-001~004 반영

3. **중기 보강 (완결성)**  
   - §10.1: 하드웨어 권장 스펙, 지원 브라우저, 반응형 브레이크포인트  
   - §5.2·§7: 데이터 보관·CASCADE·민감정보 로그·HTTPS  
   - 제약사항(CON-xxx), (선택) PRD–설계서 요구사항 매핑표

---

## 5. 결론

- **현재 설계서만으로도** 핵심 기능·아키텍처·배포는 구현 가능한 수준입니다.  
- 다만 **PRD 전체를 설계서로 완전히 커버하려면**  
  - **UI/API 상세(에러 코드·조회수 정책)**  
  - **성능·가용성 수치**  
  - **테스트·배포·운영(백업·모니터링)**  
  - **시스템/인터페이스/데이터 보관·보안 일부**  
  를 설계서에 반영하는 것이 좋습니다.  
- 위 **§3·§4** 항목을 순서대로 보강하면, 설계서가 PRD를 만족하는 설계 문서로서 **충분한 수준**이 됩니다.
